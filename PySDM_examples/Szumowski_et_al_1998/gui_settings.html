<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>PySDM_examples.Szumowski_et_al_1998.gui_settings API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>PySDM_examples.Szumowski_et_al_1998.gui_settings</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import inspect

import numpy as np
from PySDM_examples.utils.widgets import (
    Accordion,
    Checkbox,
    Dropdown,
    FloatSlider,
    IntSlider,
    Layout,
    RadioButtons,
    VBox,
)

from PySDM import Formulae, formulae, physics
from PySDM.initialisation.spectra import Lognormal
from PySDM.physics import si


class GUISettings:
    def __dir__(self):
        return self.__settings.__dir__()

    def __init__(self, settings):
        self.__settings = settings

        self.ui_dth0 = FloatSlider(
            description=&#34;$\\Delta\\theta_0$ [K]&#34;, value=0, min=-15, max=15
        )
        self.ui_dqv0 = FloatSlider(
            description=&#34;$\\Delta q_{v0}$ [g/kg]&#34;, value=0, min=-6, max=6
        )
        self.ui_rhod_w_max = FloatSlider(
            description=&#34;$\\rho_d w_{max}$&#34;,
            value=settings.rhod_w_max,
            min=0.1,
            max=4,
            step=0.1,
        )
        self.ui_kappa = FloatSlider(
            description=&#34;$\\kappa$ [1]&#34;, value=settings.kappa, min=0, max=1.5
        )

        self.ui_freezing = {
            &#34;model&#34;: RadioButtons(
                options=(&#34;singular&#34;, &#34;time-dependent&#34;),
                description=&#34;immersion frz&#34;,
                layout={&#34;width&#34;: &#34;max-content&#34;},
            ),
            &#34;INP surface&#34;: RadioButtons(
                options=(&#34;as dry surface&#34;, &#34;lognormal(A, sgm_g)&#34;),
                description=&#34;INP surface&#34;,
            ),
            &#34;lognormal_log10_A_um2&#34;: FloatSlider(
                description=&#34;log10(A/$μm^2$)&#34;, min=-3, max=1, step=0.5
            ),
            &#34;lognormal_ln_sgm_g&#34;: FloatSlider(
                description=&#34;ln(sgm_g)&#34;, min=0.5, max=3, step=0.5
            ),
            &#34;ABIFM fit&#34;: Dropdown(description=&#34;ABIFM fit&#34;, options=(&#34;Nonadecanol&#34;,)),
            &#34;INAS fit&#34;: Dropdown(
                description=&#34;INAS fit&#34;, options=(&#34;Niemand et al. 2012&#34;,)
            ),
        }
        # TODO #599 cool rate product + sing/tdep diff prod

        self.ui_nx = IntSlider(
            value=settings.grid[0], min=10, max=100, description=&#34;nx&#34;
        )
        self.ui_nz = IntSlider(
            value=settings.grid[1], min=10, max=100, description=&#34;nz&#34;
        )
        self.ui_dt = FloatSlider(
            value=settings.dt, min=0.5, max=60, description=&#34;dt (Eulerian)&#34;
        )
        self.ui_simulation_time = IntSlider(
            value=settings.simulation_time,
            min=1800,
            max=7200,
            description=&#34;simulation time $[s]$&#34;,
        )
        self.ui_condensation_rtol_x = IntSlider(
            value=np.log10(settings.condensation_rtol_thd),
            min=-9,
            max=-3,
            description=&#34;log$_{10}$(rtol$_x$)&#34;,
        )
        self.ui_condensation_rtol_thd = IntSlider(
            value=np.log10(settings.condensation_rtol_thd),
            min=-9,
            max=-3,
            description=&#34;log$_{10}$(rtol$_\\theta$)&#34;,
        )
        self.ui_condensation_adaptive = Checkbox(
            value=settings.condensation_adaptive,
            description=&#34;condensation adaptive time-step&#34;,
        )
        self.ui_coalescence_adaptive = Checkbox(
            value=settings.condensation_adaptive,
            description=&#34;coalescence adaptive time-step&#34;,
        )
        self.ui_displacement_rtol = IntSlider(
            value=np.log10(settings.displacement_rtol),
            min=-3,
            max=0,
            description=&#34;log$_{10}$(rtol)&#34;,
        )
        self.ui_displacement_adaptive = Checkbox(
            value=settings.displacement_adaptive,
            description=&#34;displacement adaptive time-step&#34;,
        )
        self.ui_processes = [
            Checkbox(value=settings.processes[key], description=key)
            for key in settings.processes.keys()
        ]
        self.ui_sdpg = IntSlider(
            value=settings.n_sd_per_gridbox, description=&#34;n_sd/gridbox&#34;, min=1, max=1000
        )
        self.fct_description = &#34;MPDATA: flux-corrected transport option&#34;
        self.tot_description = &#34;MPDATA: third-order terms option&#34;
        self.iga_description = &#34;MPDATA: infinite gauge option&#34;
        self.nit_description = &#34;MPDATA: number of iterations (1=UPWIND)&#34;
        self.ui_mpdata_options = [
            Checkbox(value=settings.mpdata_fct, description=self.fct_description),
            Checkbox(value=settings.mpdata_tot, description=self.tot_description),
            Checkbox(value=settings.mpdata_iga, description=self.iga_description),
            IntSlider(
                value=settings.mpdata_iters,
                description=self.nit_description,
                min=1,
                max=5,
            ),
        ]

        formulae_init_params = inspect.signature(Formulae.__init__).parameters.items()
        defaults = {k: v.default for k, v in formulae_init_params}
        defaults[&#34;freezing_temperature_spectrum&#34;] = &#34;Niemand_et_al_2012&#34;
        defaults[&#34;heterogeneous_ice_nucleation_rate&#34;] = &#34;ABIFM&#34;
        self.ui_formulae_options = [
            Dropdown(
                description=k,
                options=formulae._choices(getattr(physics, k)).keys(),
                value=defaults[k],
            )
            for k, v in formulae_init_params
            if k not in (&#34;self&#34;, &#34;fastmath&#34;, &#34;seed&#34;, &#34;constants&#34;, &#34;handle_all_breakups&#34;)
        ]

        self.ui_formulae_options.append(
            Checkbox(
                value=inspect.signature(Formulae.__init__)
                .parameters[&#34;fastmath&#34;]
                .default,
                description=&#34;fastmath&#34;,
            )
        )
        self.ui_output_options = {
            &#34;interval&#34;: IntSlider(
                description=&#34;interval [s]&#34;,
                value=settings.output_interval,
                min=30,
                max=60 * 15,
            ),
            &#34;aerosol_radius_threshold&#34;: FloatSlider(
                description=&#34;aerosol/cloud threshold [um]&#34;,
                value=settings.aerosol_radius_threshold / physics.si.um,
                min=0.1,
                max=1,
                step=0.1,
            ),
            &#34;drizzle_radius_threshold&#34;: IntSlider(
                description=&#34;cloud/drizzle threshold [um]&#34;,
                value=settings.drizzle_radius_threshold / physics.si.um,
                min=10,
                max=100,
                step=5,
            ),
        }

        self.r_bins_edges = settings.r_bins_edges
        self.T_bins_edges = settings.T_bins_edges
        self.terminal_velocity_radius_bin_edges = (
            settings.terminal_velocity_radius_bin_edges
        )

        self.size = settings.size
        self.condensation_substeps = settings.condensation_substeps
        self.condensation_dt_cond_range = settings.condensation_dt_cond_range
        self.condensation_schedule = settings.condensation_schedule
        self.kernel = settings.kernel
        self.spectrum_per_mass_of_dry_air = settings.spectrum_per_mass_of_dry_air
        self.coalescence_dt_coal_range = settings.coalescence_dt_coal_range
        self.coalescence_optimized_random = settings.coalescence_optimized_random
        self.coalescence_substeps = settings.coalescence_substeps
        self.freezing_inp_frac = settings.freezing_inp_frac
        self.coalescence_efficiency = settings.coalescence_efficiency
        self.breakup_efficiency = settings.breakup_efficiency
        self.breakup_fragmentation = settings.breakup_fragmentation

        for attr in (&#34;rhod_of_zZ&#34;, &#34;versions&#34;, &#34;n_spin_up&#34;):
            setattr(self, attr, getattr(settings, attr))

    @property
    def n_sd(self):
        return self.grid[0] * self.grid[1] * self.n_sd_per_gridbox

    @property
    def initial_vapour_mixing_ratio_profile(self):
        return np.full(self.grid[-1], self.__settings.qv0 + self.ui_dqv0.value / 1000)

    @property
    def initial_dry_potential_temperature_profile(self):
        return np.full(
            self.grid[-1],
            self.formulae.state_variable_triplet.th_dry(
                self.__settings.th_std0 + self.ui_dth0.value,
                self.__settings.qv0 + self.ui_dqv0.value / 1000,
            ),
        )

    @property
    def aerosol_radius_threshold(self):
        return self.ui_output_options[&#34;aerosol_radius_threshold&#34;].value * physics.si.um

    @property
    def drizzle_radius_threshold(self):
        return self.ui_output_options[&#34;drizzle_radius_threshold&#34;].value * physics.si.um

    @property
    def output_interval(self):
        return self.ui_output_options[&#34;interval&#34;].value

    @property
    def formulae(self) -&gt; Formulae:
        return Formulae(
            **{widget.description: widget.value for widget in self.ui_formulae_options},
            constants={&#34;NIEMAND_A&#34;: 0, &#34;NIEMAND_B&#34;: 0, &#34;ABIFM_M&#34;: 0, &#34;ABIFM_C&#34;: 0}
        )

    @property
    def steps_per_output_interval(self) -&gt; int:
        return int(self.output_interval / self.ui_dt.value)

    @property
    def output_steps(self) -&gt; np.ndarray:
        return np.arange(0, self.n_steps + 1, self.steps_per_output_interval)

    @property
    def rhod_w_max(self):
        return self.ui_rhod_w_max.value

    @property
    def kappa(self):
        return self.ui_kappa.value

    @property
    def freezing_singular(self):
        return self.ui_freezing[&#34;model&#34;].value == &#34;singular&#34;

    @property
    def grid(self):
        return self.ui_nx.value, self.ui_nz.value

    @property
    def dt(self):
        return self.ui_dt.value

    @property
    def n_steps(self):
        return int(self.ui_simulation_time.value / self.ui_dt.value)  # TODO #413

    @property
    def condensation_rtol_x(self):
        return 10**self.ui_condensation_rtol_x.value

    @property
    def condensation_rtol_thd(self):
        return 10**self.ui_condensation_rtol_thd.value

    @property
    def condensation_adaptive(self):
        return self.ui_condensation_adaptive.value

    @property
    def coalescence_adaptive(self):
        return self.ui_coalescence_adaptive.value

    @property
    def displacement_rtol(self):
        return 10**self.ui_displacement_rtol.value

    @property
    def displacement_adaptive(self):
        return self.ui_displacement_adaptive.value

    @property
    def processes(self):
        result = {}
        for checkbox in self.ui_processes:
            result[checkbox.description] = checkbox.value
        return result

    @property
    def n_sd_per_gridbox(self):
        return self.ui_sdpg.value

    @property
    def mpdata_tot(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.tot_description:
                return widget.value
        raise NotImplementedError()

    @property
    def mpdata_fct(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.fct_description:
                return widget.value
        raise NotImplementedError()

    @property
    def mpdata_iga(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.iga_description:
                return widget.value
        raise NotImplementedError()

    @property
    def mpdata_iters(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.nit_description:
                return widget.value
        raise NotImplementedError()

    def stream_function(self, xX, zZ, _):
        assert hasattr(self.__settings, &#34;rhod_w_max&#34;)
        self.__settings.rhod_w_max = self.ui_rhod_w_max.value
        return self.__settings.stream_function(xX, zZ, _)

    @property
    def freezing_inp_spec(self):
        if self.ui_freezing[&#34;INP surface&#34;].value == &#34;as dry surface&#34;:
            return None
        if self.ui_freezing[&#34;INP surface&#34;].value == &#34;lognormal(A, sgm_g)&#34;:
            return Lognormal(
                norm_factor=1,
                m_mode=10 ** (self.ui_freezing[&#34;lognormal_log10_A_um2&#34;].value)
                * si.um**2,
                s_geom=np.exp(self.ui_freezing[&#34;lognormal_ln_sgm_g&#34;].value),
            )
        raise NotImplementedError()

    def box(self):
        layout = Accordion(
            children=[
                VBox(
                    [
                        self.ui_dth0,
                        self.ui_dqv0,
                        self.ui_kappa,
                        self.ui_rhod_w_max,
                        *self.ui_freezing.values(),
                    ]
                ),
                VBox([*self.ui_processes]),
                VBox(
                    [
                        self.ui_nx,
                        self.ui_nz,
                        self.ui_sdpg,
                        self.ui_dt,
                        self.ui_simulation_time,
                        self.ui_condensation_rtol_x,
                        self.ui_condensation_rtol_thd,
                        self.ui_condensation_adaptive,
                        self.ui_coalescence_adaptive,
                        self.ui_displacement_rtol,
                        self.ui_displacement_adaptive,
                        *self.ui_mpdata_options,
                    ]
                ),
                VBox([*self.ui_formulae_options]),
                VBox([*self.ui_output_options.values()]),
            ]
        )
        layout.set_title(0, &#34;parameters&#34;)
        layout.set_title(1, &#34;processes&#34;)
        layout.set_title(2, &#34;discretisation&#34;)
        layout.set_title(3, &#34;formulae&#34;)
        layout.set_title(4, &#34;output&#34;)

        layout.observe(self.hide_and_show, names=&#34;selected_index&#34;)
        self.hide_and_show()

        return layout

    def hide_and_show(self, _=None):
        freezing_enabled = self.processes[&#34;freezing&#34;]
        for widget in self.ui_freezing.values():
            set_visibility(widget, freezing_enabled)


def set_visibility(widget, visible):
    if visible:
        widget.layout = Layout()
    else:
        widget.layout = Layout(visibility=&#34;hidden&#34;)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.set_visibility"><code class="name flex">
<span>def <span class="ident">set_visibility</span></span>(<span>widget, visible)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_visibility(widget, visible):
    if visible:
        widget.layout = Layout()
    else:
        widget.layout = Layout(visibility=&#34;hidden&#34;)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings"><code class="flex name class">
<span>class <span class="ident">GUISettings</span></span>
<span>(</span><span>settings)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GUISettings:
    def __dir__(self):
        return self.__settings.__dir__()

    def __init__(self, settings):
        self.__settings = settings

        self.ui_dth0 = FloatSlider(
            description=&#34;$\\Delta\\theta_0$ [K]&#34;, value=0, min=-15, max=15
        )
        self.ui_dqv0 = FloatSlider(
            description=&#34;$\\Delta q_{v0}$ [g/kg]&#34;, value=0, min=-6, max=6
        )
        self.ui_rhod_w_max = FloatSlider(
            description=&#34;$\\rho_d w_{max}$&#34;,
            value=settings.rhod_w_max,
            min=0.1,
            max=4,
            step=0.1,
        )
        self.ui_kappa = FloatSlider(
            description=&#34;$\\kappa$ [1]&#34;, value=settings.kappa, min=0, max=1.5
        )

        self.ui_freezing = {
            &#34;model&#34;: RadioButtons(
                options=(&#34;singular&#34;, &#34;time-dependent&#34;),
                description=&#34;immersion frz&#34;,
                layout={&#34;width&#34;: &#34;max-content&#34;},
            ),
            &#34;INP surface&#34;: RadioButtons(
                options=(&#34;as dry surface&#34;, &#34;lognormal(A, sgm_g)&#34;),
                description=&#34;INP surface&#34;,
            ),
            &#34;lognormal_log10_A_um2&#34;: FloatSlider(
                description=&#34;log10(A/$μm^2$)&#34;, min=-3, max=1, step=0.5
            ),
            &#34;lognormal_ln_sgm_g&#34;: FloatSlider(
                description=&#34;ln(sgm_g)&#34;, min=0.5, max=3, step=0.5
            ),
            &#34;ABIFM fit&#34;: Dropdown(description=&#34;ABIFM fit&#34;, options=(&#34;Nonadecanol&#34;,)),
            &#34;INAS fit&#34;: Dropdown(
                description=&#34;INAS fit&#34;, options=(&#34;Niemand et al. 2012&#34;,)
            ),
        }
        # TODO #599 cool rate product + sing/tdep diff prod

        self.ui_nx = IntSlider(
            value=settings.grid[0], min=10, max=100, description=&#34;nx&#34;
        )
        self.ui_nz = IntSlider(
            value=settings.grid[1], min=10, max=100, description=&#34;nz&#34;
        )
        self.ui_dt = FloatSlider(
            value=settings.dt, min=0.5, max=60, description=&#34;dt (Eulerian)&#34;
        )
        self.ui_simulation_time = IntSlider(
            value=settings.simulation_time,
            min=1800,
            max=7200,
            description=&#34;simulation time $[s]$&#34;,
        )
        self.ui_condensation_rtol_x = IntSlider(
            value=np.log10(settings.condensation_rtol_thd),
            min=-9,
            max=-3,
            description=&#34;log$_{10}$(rtol$_x$)&#34;,
        )
        self.ui_condensation_rtol_thd = IntSlider(
            value=np.log10(settings.condensation_rtol_thd),
            min=-9,
            max=-3,
            description=&#34;log$_{10}$(rtol$_\\theta$)&#34;,
        )
        self.ui_condensation_adaptive = Checkbox(
            value=settings.condensation_adaptive,
            description=&#34;condensation adaptive time-step&#34;,
        )
        self.ui_coalescence_adaptive = Checkbox(
            value=settings.condensation_adaptive,
            description=&#34;coalescence adaptive time-step&#34;,
        )
        self.ui_displacement_rtol = IntSlider(
            value=np.log10(settings.displacement_rtol),
            min=-3,
            max=0,
            description=&#34;log$_{10}$(rtol)&#34;,
        )
        self.ui_displacement_adaptive = Checkbox(
            value=settings.displacement_adaptive,
            description=&#34;displacement adaptive time-step&#34;,
        )
        self.ui_processes = [
            Checkbox(value=settings.processes[key], description=key)
            for key in settings.processes.keys()
        ]
        self.ui_sdpg = IntSlider(
            value=settings.n_sd_per_gridbox, description=&#34;n_sd/gridbox&#34;, min=1, max=1000
        )
        self.fct_description = &#34;MPDATA: flux-corrected transport option&#34;
        self.tot_description = &#34;MPDATA: third-order terms option&#34;
        self.iga_description = &#34;MPDATA: infinite gauge option&#34;
        self.nit_description = &#34;MPDATA: number of iterations (1=UPWIND)&#34;
        self.ui_mpdata_options = [
            Checkbox(value=settings.mpdata_fct, description=self.fct_description),
            Checkbox(value=settings.mpdata_tot, description=self.tot_description),
            Checkbox(value=settings.mpdata_iga, description=self.iga_description),
            IntSlider(
                value=settings.mpdata_iters,
                description=self.nit_description,
                min=1,
                max=5,
            ),
        ]

        formulae_init_params = inspect.signature(Formulae.__init__).parameters.items()
        defaults = {k: v.default for k, v in formulae_init_params}
        defaults[&#34;freezing_temperature_spectrum&#34;] = &#34;Niemand_et_al_2012&#34;
        defaults[&#34;heterogeneous_ice_nucleation_rate&#34;] = &#34;ABIFM&#34;
        self.ui_formulae_options = [
            Dropdown(
                description=k,
                options=formulae._choices(getattr(physics, k)).keys(),
                value=defaults[k],
            )
            for k, v in formulae_init_params
            if k not in (&#34;self&#34;, &#34;fastmath&#34;, &#34;seed&#34;, &#34;constants&#34;, &#34;handle_all_breakups&#34;)
        ]

        self.ui_formulae_options.append(
            Checkbox(
                value=inspect.signature(Formulae.__init__)
                .parameters[&#34;fastmath&#34;]
                .default,
                description=&#34;fastmath&#34;,
            )
        )
        self.ui_output_options = {
            &#34;interval&#34;: IntSlider(
                description=&#34;interval [s]&#34;,
                value=settings.output_interval,
                min=30,
                max=60 * 15,
            ),
            &#34;aerosol_radius_threshold&#34;: FloatSlider(
                description=&#34;aerosol/cloud threshold [um]&#34;,
                value=settings.aerosol_radius_threshold / physics.si.um,
                min=0.1,
                max=1,
                step=0.1,
            ),
            &#34;drizzle_radius_threshold&#34;: IntSlider(
                description=&#34;cloud/drizzle threshold [um]&#34;,
                value=settings.drizzle_radius_threshold / physics.si.um,
                min=10,
                max=100,
                step=5,
            ),
        }

        self.r_bins_edges = settings.r_bins_edges
        self.T_bins_edges = settings.T_bins_edges
        self.terminal_velocity_radius_bin_edges = (
            settings.terminal_velocity_radius_bin_edges
        )

        self.size = settings.size
        self.condensation_substeps = settings.condensation_substeps
        self.condensation_dt_cond_range = settings.condensation_dt_cond_range
        self.condensation_schedule = settings.condensation_schedule
        self.kernel = settings.kernel
        self.spectrum_per_mass_of_dry_air = settings.spectrum_per_mass_of_dry_air
        self.coalescence_dt_coal_range = settings.coalescence_dt_coal_range
        self.coalescence_optimized_random = settings.coalescence_optimized_random
        self.coalescence_substeps = settings.coalescence_substeps
        self.freezing_inp_frac = settings.freezing_inp_frac
        self.coalescence_efficiency = settings.coalescence_efficiency
        self.breakup_efficiency = settings.breakup_efficiency
        self.breakup_fragmentation = settings.breakup_fragmentation

        for attr in (&#34;rhod_of_zZ&#34;, &#34;versions&#34;, &#34;n_spin_up&#34;):
            setattr(self, attr, getattr(settings, attr))

    @property
    def n_sd(self):
        return self.grid[0] * self.grid[1] * self.n_sd_per_gridbox

    @property
    def initial_vapour_mixing_ratio_profile(self):
        return np.full(self.grid[-1], self.__settings.qv0 + self.ui_dqv0.value / 1000)

    @property
    def initial_dry_potential_temperature_profile(self):
        return np.full(
            self.grid[-1],
            self.formulae.state_variable_triplet.th_dry(
                self.__settings.th_std0 + self.ui_dth0.value,
                self.__settings.qv0 + self.ui_dqv0.value / 1000,
            ),
        )

    @property
    def aerosol_radius_threshold(self):
        return self.ui_output_options[&#34;aerosol_radius_threshold&#34;].value * physics.si.um

    @property
    def drizzle_radius_threshold(self):
        return self.ui_output_options[&#34;drizzle_radius_threshold&#34;].value * physics.si.um

    @property
    def output_interval(self):
        return self.ui_output_options[&#34;interval&#34;].value

    @property
    def formulae(self) -&gt; Formulae:
        return Formulae(
            **{widget.description: widget.value for widget in self.ui_formulae_options},
            constants={&#34;NIEMAND_A&#34;: 0, &#34;NIEMAND_B&#34;: 0, &#34;ABIFM_M&#34;: 0, &#34;ABIFM_C&#34;: 0}
        )

    @property
    def steps_per_output_interval(self) -&gt; int:
        return int(self.output_interval / self.ui_dt.value)

    @property
    def output_steps(self) -&gt; np.ndarray:
        return np.arange(0, self.n_steps + 1, self.steps_per_output_interval)

    @property
    def rhod_w_max(self):
        return self.ui_rhod_w_max.value

    @property
    def kappa(self):
        return self.ui_kappa.value

    @property
    def freezing_singular(self):
        return self.ui_freezing[&#34;model&#34;].value == &#34;singular&#34;

    @property
    def grid(self):
        return self.ui_nx.value, self.ui_nz.value

    @property
    def dt(self):
        return self.ui_dt.value

    @property
    def n_steps(self):
        return int(self.ui_simulation_time.value / self.ui_dt.value)  # TODO #413

    @property
    def condensation_rtol_x(self):
        return 10**self.ui_condensation_rtol_x.value

    @property
    def condensation_rtol_thd(self):
        return 10**self.ui_condensation_rtol_thd.value

    @property
    def condensation_adaptive(self):
        return self.ui_condensation_adaptive.value

    @property
    def coalescence_adaptive(self):
        return self.ui_coalescence_adaptive.value

    @property
    def displacement_rtol(self):
        return 10**self.ui_displacement_rtol.value

    @property
    def displacement_adaptive(self):
        return self.ui_displacement_adaptive.value

    @property
    def processes(self):
        result = {}
        for checkbox in self.ui_processes:
            result[checkbox.description] = checkbox.value
        return result

    @property
    def n_sd_per_gridbox(self):
        return self.ui_sdpg.value

    @property
    def mpdata_tot(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.tot_description:
                return widget.value
        raise NotImplementedError()

    @property
    def mpdata_fct(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.fct_description:
                return widget.value
        raise NotImplementedError()

    @property
    def mpdata_iga(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.iga_description:
                return widget.value
        raise NotImplementedError()

    @property
    def mpdata_iters(self):
        for widget in self.ui_mpdata_options:
            if widget.description == self.nit_description:
                return widget.value
        raise NotImplementedError()

    def stream_function(self, xX, zZ, _):
        assert hasattr(self.__settings, &#34;rhod_w_max&#34;)
        self.__settings.rhod_w_max = self.ui_rhod_w_max.value
        return self.__settings.stream_function(xX, zZ, _)

    @property
    def freezing_inp_spec(self):
        if self.ui_freezing[&#34;INP surface&#34;].value == &#34;as dry surface&#34;:
            return None
        if self.ui_freezing[&#34;INP surface&#34;].value == &#34;lognormal(A, sgm_g)&#34;:
            return Lognormal(
                norm_factor=1,
                m_mode=10 ** (self.ui_freezing[&#34;lognormal_log10_A_um2&#34;].value)
                * si.um**2,
                s_geom=np.exp(self.ui_freezing[&#34;lognormal_ln_sgm_g&#34;].value),
            )
        raise NotImplementedError()

    def box(self):
        layout = Accordion(
            children=[
                VBox(
                    [
                        self.ui_dth0,
                        self.ui_dqv0,
                        self.ui_kappa,
                        self.ui_rhod_w_max,
                        *self.ui_freezing.values(),
                    ]
                ),
                VBox([*self.ui_processes]),
                VBox(
                    [
                        self.ui_nx,
                        self.ui_nz,
                        self.ui_sdpg,
                        self.ui_dt,
                        self.ui_simulation_time,
                        self.ui_condensation_rtol_x,
                        self.ui_condensation_rtol_thd,
                        self.ui_condensation_adaptive,
                        self.ui_coalescence_adaptive,
                        self.ui_displacement_rtol,
                        self.ui_displacement_adaptive,
                        *self.ui_mpdata_options,
                    ]
                ),
                VBox([*self.ui_formulae_options]),
                VBox([*self.ui_output_options.values()]),
            ]
        )
        layout.set_title(0, &#34;parameters&#34;)
        layout.set_title(1, &#34;processes&#34;)
        layout.set_title(2, &#34;discretisation&#34;)
        layout.set_title(3, &#34;formulae&#34;)
        layout.set_title(4, &#34;output&#34;)

        layout.observe(self.hide_and_show, names=&#34;selected_index&#34;)
        self.hide_and_show()

        return layout

    def hide_and_show(self, _=None):
        freezing_enabled = self.processes[&#34;freezing&#34;]
        for widget in self.ui_freezing.values():
            set_visibility(widget, freezing_enabled)</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.aerosol_radius_threshold"><code class="name">var <span class="ident">aerosol_radius_threshold</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def aerosol_radius_threshold(self):
    return self.ui_output_options[&#34;aerosol_radius_threshold&#34;].value * physics.si.um</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.coalescence_adaptive"><code class="name">var <span class="ident">coalescence_adaptive</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def coalescence_adaptive(self):
    return self.ui_coalescence_adaptive.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_adaptive"><code class="name">var <span class="ident">condensation_adaptive</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def condensation_adaptive(self):
    return self.ui_condensation_adaptive.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_rtol_thd"><code class="name">var <span class="ident">condensation_rtol_thd</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def condensation_rtol_thd(self):
    return 10**self.ui_condensation_rtol_thd.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_rtol_x"><code class="name">var <span class="ident">condensation_rtol_x</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def condensation_rtol_x(self):
    return 10**self.ui_condensation_rtol_x.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.displacement_adaptive"><code class="name">var <span class="ident">displacement_adaptive</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def displacement_adaptive(self):
    return self.ui_displacement_adaptive.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.displacement_rtol"><code class="name">var <span class="ident">displacement_rtol</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def displacement_rtol(self):
    return 10**self.ui_displacement_rtol.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.drizzle_radius_threshold"><code class="name">var <span class="ident">drizzle_radius_threshold</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def drizzle_radius_threshold(self):
    return self.ui_output_options[&#34;drizzle_radius_threshold&#34;].value * physics.si.um</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.dt"><code class="name">var <span class="ident">dt</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def dt(self):
    return self.ui_dt.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.formulae"><code class="name">var <span class="ident">formulae</span> : <a title="PySDM.formulae.Formulae" href="../../PySDM/formulae.html#PySDM.formulae.Formulae">Formulae</a></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def formulae(self) -&gt; Formulae:
    return Formulae(
        **{widget.description: widget.value for widget in self.ui_formulae_options},
        constants={&#34;NIEMAND_A&#34;: 0, &#34;NIEMAND_B&#34;: 0, &#34;ABIFM_M&#34;: 0, &#34;ABIFM_C&#34;: 0}
    )</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.freezing_inp_spec"><code class="name">var <span class="ident">freezing_inp_spec</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def freezing_inp_spec(self):
    if self.ui_freezing[&#34;INP surface&#34;].value == &#34;as dry surface&#34;:
        return None
    if self.ui_freezing[&#34;INP surface&#34;].value == &#34;lognormal(A, sgm_g)&#34;:
        return Lognormal(
            norm_factor=1,
            m_mode=10 ** (self.ui_freezing[&#34;lognormal_log10_A_um2&#34;].value)
            * si.um**2,
            s_geom=np.exp(self.ui_freezing[&#34;lognormal_ln_sgm_g&#34;].value),
        )
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.freezing_singular"><code class="name">var <span class="ident">freezing_singular</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def freezing_singular(self):
    return self.ui_freezing[&#34;model&#34;].value == &#34;singular&#34;</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.grid"><code class="name">var <span class="ident">grid</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def grid(self):
    return self.ui_nx.value, self.ui_nz.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.initial_dry_potential_temperature_profile"><code class="name">var <span class="ident">initial_dry_potential_temperature_profile</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def initial_dry_potential_temperature_profile(self):
    return np.full(
        self.grid[-1],
        self.formulae.state_variable_triplet.th_dry(
            self.__settings.th_std0 + self.ui_dth0.value,
            self.__settings.qv0 + self.ui_dqv0.value / 1000,
        ),
    )</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.initial_vapour_mixing_ratio_profile"><code class="name">var <span class="ident">initial_vapour_mixing_ratio_profile</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def initial_vapour_mixing_ratio_profile(self):
    return np.full(self.grid[-1], self.__settings.qv0 + self.ui_dqv0.value / 1000)</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.kappa"><code class="name">var <span class="ident">kappa</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def kappa(self):
    return self.ui_kappa.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_fct"><code class="name">var <span class="ident">mpdata_fct</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def mpdata_fct(self):
    for widget in self.ui_mpdata_options:
        if widget.description == self.fct_description:
            return widget.value
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_iga"><code class="name">var <span class="ident">mpdata_iga</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def mpdata_iga(self):
    for widget in self.ui_mpdata_options:
        if widget.description == self.iga_description:
            return widget.value
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_iters"><code class="name">var <span class="ident">mpdata_iters</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def mpdata_iters(self):
    for widget in self.ui_mpdata_options:
        if widget.description == self.nit_description:
            return widget.value
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_tot"><code class="name">var <span class="ident">mpdata_tot</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def mpdata_tot(self):
    for widget in self.ui_mpdata_options:
        if widget.description == self.tot_description:
            return widget.value
    raise NotImplementedError()</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_sd"><code class="name">var <span class="ident">n_sd</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def n_sd(self):
    return self.grid[0] * self.grid[1] * self.n_sd_per_gridbox</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_sd_per_gridbox"><code class="name">var <span class="ident">n_sd_per_gridbox</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def n_sd_per_gridbox(self):
    return self.ui_sdpg.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_steps"><code class="name">var <span class="ident">n_steps</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def n_steps(self):
    return int(self.ui_simulation_time.value / self.ui_dt.value)  # TODO #413</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.output_interval"><code class="name">var <span class="ident">output_interval</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def output_interval(self):
    return self.ui_output_options[&#34;interval&#34;].value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.output_steps"><code class="name">var <span class="ident">output_steps</span> : numpy.ndarray</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def output_steps(self) -&gt; np.ndarray:
    return np.arange(0, self.n_steps + 1, self.steps_per_output_interval)</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.processes"><code class="name">var <span class="ident">processes</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def processes(self):
    result = {}
    for checkbox in self.ui_processes:
        result[checkbox.description] = checkbox.value
    return result</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.rhod_w_max"><code class="name">var <span class="ident">rhod_w_max</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def rhod_w_max(self):
    return self.ui_rhod_w_max.value</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.steps_per_output_interval"><code class="name">var <span class="ident">steps_per_output_interval</span> : int</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def steps_per_output_interval(self) -&gt; int:
    return int(self.output_interval / self.ui_dt.value)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.box"><code class="name flex">
<span>def <span class="ident">box</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def box(self):
    layout = Accordion(
        children=[
            VBox(
                [
                    self.ui_dth0,
                    self.ui_dqv0,
                    self.ui_kappa,
                    self.ui_rhod_w_max,
                    *self.ui_freezing.values(),
                ]
            ),
            VBox([*self.ui_processes]),
            VBox(
                [
                    self.ui_nx,
                    self.ui_nz,
                    self.ui_sdpg,
                    self.ui_dt,
                    self.ui_simulation_time,
                    self.ui_condensation_rtol_x,
                    self.ui_condensation_rtol_thd,
                    self.ui_condensation_adaptive,
                    self.ui_coalescence_adaptive,
                    self.ui_displacement_rtol,
                    self.ui_displacement_adaptive,
                    *self.ui_mpdata_options,
                ]
            ),
            VBox([*self.ui_formulae_options]),
            VBox([*self.ui_output_options.values()]),
        ]
    )
    layout.set_title(0, &#34;parameters&#34;)
    layout.set_title(1, &#34;processes&#34;)
    layout.set_title(2, &#34;discretisation&#34;)
    layout.set_title(3, &#34;formulae&#34;)
    layout.set_title(4, &#34;output&#34;)

    layout.observe(self.hide_and_show, names=&#34;selected_index&#34;)
    self.hide_and_show()

    return layout</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.hide_and_show"><code class="name flex">
<span>def <span class="ident">hide_and_show</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def hide_and_show(self, _=None):
    freezing_enabled = self.processes[&#34;freezing&#34;]
    for widget in self.ui_freezing.values():
        set_visibility(widget, freezing_enabled)</code></pre>
</details>
</dd>
<dt id="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.stream_function"><code class="name flex">
<span>def <span class="ident">stream_function</span></span>(<span>self, xX, zZ, _)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stream_function(self, xX, zZ, _):
    assert hasattr(self.__settings, &#34;rhod_w_max&#34;)
    self.__settings.rhod_w_max = self.ui_rhod_w_max.value
    return self.__settings.stream_function(xX, zZ, _)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998" href="index.html">PySDM_examples.Szumowski_et_al_1998</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.set_visibility" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.set_visibility">set_visibility</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings">GUISettings</a></code></h4>
<ul class="">
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.aerosol_radius_threshold" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.aerosol_radius_threshold">aerosol_radius_threshold</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.box" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.box">box</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.coalescence_adaptive" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.coalescence_adaptive">coalescence_adaptive</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_adaptive" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_adaptive">condensation_adaptive</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_rtol_thd" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_rtol_thd">condensation_rtol_thd</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_rtol_x" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.condensation_rtol_x">condensation_rtol_x</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.displacement_adaptive" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.displacement_adaptive">displacement_adaptive</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.displacement_rtol" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.displacement_rtol">displacement_rtol</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.drizzle_radius_threshold" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.drizzle_radius_threshold">drizzle_radius_threshold</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.dt" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.dt">dt</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.formulae" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.formulae">formulae</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.freezing_inp_spec" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.freezing_inp_spec">freezing_inp_spec</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.freezing_singular" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.freezing_singular">freezing_singular</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.grid" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.grid">grid</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.hide_and_show" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.hide_and_show">hide_and_show</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.initial_dry_potential_temperature_profile" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.initial_dry_potential_temperature_profile">initial_dry_potential_temperature_profile</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.initial_vapour_mixing_ratio_profile" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.initial_vapour_mixing_ratio_profile">initial_vapour_mixing_ratio_profile</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.kappa" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.kappa">kappa</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_fct" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_fct">mpdata_fct</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_iga" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_iga">mpdata_iga</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_iters" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_iters">mpdata_iters</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_tot" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.mpdata_tot">mpdata_tot</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_sd" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_sd">n_sd</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_sd_per_gridbox" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_sd_per_gridbox">n_sd_per_gridbox</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_steps" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.n_steps">n_steps</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.output_interval" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.output_interval">output_interval</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.output_steps" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.output_steps">output_steps</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.processes" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.processes">processes</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.rhod_w_max" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.rhod_w_max">rhod_w_max</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.steps_per_output_interval" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.steps_per_output_interval">steps_per_output_interval</a></code></li>
<li><code><a title="PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.stream_function" href="#PySDM_examples.Szumowski_et_al_1998.gui_settings.GUISettings.stream_function">stream_function</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>